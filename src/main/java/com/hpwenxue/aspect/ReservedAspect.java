package com.hpwenxue.aspect;import com.hpwenxue.domain.User;import com.hpwenxue.repository.ReservedRepository;import com.hpwenxue.utils.E;import org.aspectj.lang.JoinPoint;import org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.Before;import org.aspectj.lang.annotation.Pointcut;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Component;/** * 保留字拦截，在发帖、注册、评论等请求时，进行拦截，如果内容包含相应对关键字，在此处进行处理 * * @author : liuwenlong * @date : 2018/1/15 15:04 */@Aspect@Componentpublic class ReservedAspect {    private Logger logger = LoggerFactory.getLogger(getClass());    @Autowired    private ReservedRepository reservedRepository;    @Pointcut("execution(public * com.hpwenxue.controller.UserController.register(..))")    public void registerCut() {    }    @Before("registerCut()")    public void doBefore(JoinPoint joinPoint) {        logger.info("------------");        User user = (User) joinPoint.getArgs()[0];        if (reservedRepository.getByDetail(user.getUserName()).size() > 0) {            throw new E(1, "包含保留字，请重新输入");        }    }}