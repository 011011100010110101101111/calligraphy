package com.hpwenxue.utils;import com.hpwenxue.config.InitConfig;import com.hpwenxue.domain.ReservedWords;import com.hpwenxue.domain.User;import com.hpwenxue.enums.Dictionaries;import com.hpwenxue.repository.ReservedRepository;import com.hpwenxue.repository.UserRepository;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.CommandLineRunner;import org.springframework.stereotype.Component;import org.springframework.transaction.annotation.Transactional;import java.util.List;/** * 初始化系统数据 * * @author : liuwenlong * @date : 2018/1/13 16:05 */@Componentpublic class Init implements CommandLineRunner {    @Autowired    private UserRepository userRepository;    @Autowired    private ReservedRepository reservedRepository;    @Override    @Transactional    public void run(String... args) throws Exception {        initUsers();        initReserved();    }    /**     * 初始化系统用户，超级管理员     */    private void initUsers() {        User user = userRepository.findByUserName("admin");        if (user == null) {            userRepository.save(new InitConfig().initUser());        }    }    /**     * 初始化系统角色     */    private void initRoles() {    }    private void initReserved() {        List<ReservedWords> reservedWords = new InitConfig().initReserved();        reservedWords.forEach(n -> {            if (reservedRepository.getByDetail(n.getDetail()).size() <= 0) {                reservedRepository.save(n);            }        });    }}